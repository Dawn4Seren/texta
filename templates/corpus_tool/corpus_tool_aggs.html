<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" charset="utf-8">
	google.load('visualization', '1', {packages: ['corechart', 'line']});

	var chartType = '{{data.type|safe}}';

	if(chartType == 'line'){
		google.setOnLoadCallback(drawTimeline);
	}else{
		google.setOnLoadCallback(drawBars);
	}
	
	function drawTimeline() {
		var data = google.visualization.arrayToDataTable({{data.data|safe}});
		var options = {
			tooltip: {
				textStyle: {
					fontSize: 12
				},
			},
			legend: {
				position: 'top',
				textStyle: {
					fontSize: 12
				},
			},
			chartArea: {
				width: '85%',
				height: '70%',
			},
			hAxis: {
				title: '{{data.title}}',
				slantedText:true,
				slantedTextAngle:90,
				textStyle: {
					fontSize: 12
				},
			},
			vAxis: {
			  title: 'Hit count',
				textStyle: {
					fontSize: 12
				},
			},
		};
		var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
		chart.draw(data, options);
	}
	
	function drawBars() {
		var data = google.visualization.arrayToDataTable({{data.data|safe}});
		var options = {
			isStacked: true,
			legend: {
				position: 'top',
				textStyle: {
					fontSize: 12
				},
			},
			tooltip: {
				textStyle: {
					fontSize: 12
				},
			},
			chartArea: {
				width: '50%',
				height: '90%'
			},
			hAxis: {
				title: 'Hit count',
				textStyle: {
					fontSize: 12
				},
			},
			vAxis: {
			  title: 'Word',
			  textStyle: {
				fontSize: 12
			  },
			},
		};
		var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
		chart.draw(data, options);
	}
</script>
</head>
<body>
<div id="chart_div"></div>
{% if error %}
	<span class="text-danger">{{error}}</span>
{% endif %}
</body>
</html>