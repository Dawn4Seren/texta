<div class="panel">
    <div class="panel-heading" role='button'
         data-toggle="collapse"
         aria-expanded="false"
         aria-controls="new-classification-collapse"
         data-target="#new-classification-collapse"
         title="Collapse the panel"
         >Train a New Neuroclassifier Model
    </div>
    <div class="collapse in">
        <div class="panel-body">

            <div class="form-group">
                <form action="javascript:start_task('{{ task_param.id }}','form_{{ task_param.id }}');"
                      id="form_{{ task_param.id }}" autocomplete="off">
                    <div class="col-sm-12">
                        <div class="row">
                            <div class="col-sm-6">Select a search:</div>
                            <div class="col-sm-6">
                                <select name="{{ task_param.id }}_search" class="selectpicker" required
                                        data-width='100%'>
                                    <option value="all_docs">Empty (all documents)</option>
                                    {% for search in searches %}
                                        <option title="{{ search.description }}"
                                                value="{{ search.id }}">{{ search.description }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-6">Select fields:</div>
                            <div class="col-sm-6">
                                <select class="selectpicker" data-width='100%' multiple
                                        required
                                        data-selected-text-format="count"
                                        name="{{ task_param.id }}_fields">
                                    <option data-hidden="true"></option>
                                    {% for field in fields %}
                                        <option title="{{ field.path }}"
                                                value="{{ field.path }}">{{ field.label }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-sm-6">Model architecture:</div>
                            <div class="col-sm-6">
                                <select name="{{ task_param.id }}_model_arch" class="selectpicker"
                                        data-width='100%'>
                                    {% for arch in task_param.architectures %}
                                        <option title="{{ arch }}"
                                                value="{{ arch }}">{{ arch }}</option>
                                                {% comment %} TODO {% endcomment %}
                                    {% endfor %}
                                </select>

                            </div>
                        </div>


                        <div class="row">
                            <div class="col-sm-6">Validation amount:</div>
                            <div class="col-sm-6">
                                <select name="{{ task_param.id }}_validation_split" class="selectpicker"
                                        data-width='100%'>
                                    <option title="0.20" value="0.20">0.20</option>

                                </select>
                            </div>
                        </div>

                        <div class="row">
                                <div class="col-sm-6">Crop amount:</div>
                            <div class="col-sm-6">
                                <select name="{{ task_param.id }}_crop_amount" class="selectpicker"
                                        data-width='100%'>
                                    <option title="0.2" value="1000">1000</option>

                                </select>
                            </div>
                        </div>

                        <div class="row">
                                <div class="col-sm-6">Crop amount:</div>
                            <div class="col-sm-6">
                                <select name="{{ task_param.id }}_grid_downsample_amount" class="selectpicker"
                                        data-width='100%'>
                                    <option title="0.0001" value="0.0001">0.0001</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-6">Negative set multiplier:</div>
                            <div class="col-sm-6">
                                <select name="{{ task_param.id }}_negative_multiplier_opt" class="selectpicker" data-width='100%'>
                                    <option title="0.5" value="0.5">0.5</option>
                                    <option title="0.75" value="0.75">0.75</option>
                                    <option title="1.0" value="1.0" selected="selected">1.0</option>
                                    <option title="1.5" value="1.5">1.5</option>
                                    <option title="2.0" value="2.0">2.0</option>
                                    <option title="3.0" value="3.0">3.0</option>
                                    <option title="4.0" value="4.0">4.0</option>
                                    <option title="5.0" value="5.0">5.0</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-6">Maximum sample size per class:</div>
                            <div class="col-sm-6">
                                <select name="{{ task_param.id }}_max_sample_size_opt" class="selectpicker" data-width='100%'>
                                    <option title="10000" value="10000">10000</option>
                                    <option title="25000" value="25000">25000</option>
                                    <option title="50000" value="50000">50000</option>
                                    <option title="100000" value="100000">100000</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-6">Training set score threshold:</div>
                            <div class="col-sm-6">
                                <select name="{{ task_param.id }}_score_threshold_opt" class="selectpicker" data-width='100%'>
                                    <option title="0.0 (use all)" value="0.0">0.0</option>
                                    <option title="0.1" value="0.1">0.1</option>
                                    <option title="0.2" value="0.2">0.2</option>
                                    <option title="0.3" value="0.3">0.3</option>
                                    <option title="0.4" value="0.4">0.4</option>
                                    <option title="0.5" value="0.5">0.5</option>

                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-6">Max sequence length:</div>
                            <div class="col-sm-6">
                                <select name="{{ task_param.id }}_max_seq_len" class="selectpicker" data-width='100%'>
                                    <option title="50" value="50">50</option>
                                    <option title="70" value="70">70</option>
                                    <option title="100" value="100">100</option>
                                    <option title="150" value="150">150</option>
                                    <option title="200" value="200">200</option>

                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-6">Label:</div>
                            <div class="col-sm-6">
                                <input required name="{{ task_param.id }}_description" class="form-control input-sm">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12">
                                <button type="submit"
                                        class="btn btn-default form-control"><span
                                        class="glyphicon glyphicon-ok"></span> Start task
                                </button>
                            </div>
                        </div>

                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
